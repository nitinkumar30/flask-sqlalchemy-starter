# Flask Test App

A minimal and modular Flask application that demonstrates how to integrate SQLAlchemy for database operations and Pytest for backend unit testing. This project uses a simple user model, includes one API route for user creation, and is fully testable with an in-memory SQLite test database.

---

## ğŸ“¦ Features

- ğŸ Flask application factory pattern  
- ğŸ›¢ SQLAlchemy ORM integration  
- ğŸ§ª Unit testing with Pytest and Flask's test client  
- ğŸ§© Clean, modular structure for scalability  
- âš™ï¸ Separate configurations for development and testing environments

---

## ğŸ—‚ Project Structure

```

flask\_test\_app/
â”œâ”€â”€ app.py              # App factory and DB setup
â”œâ”€â”€ config.py           # Configurations for dev and test
â”œâ”€â”€ models.py           # SQLAlchemy models
â”œâ”€â”€ routes.py           # Flask routes (e.g., create user)
â”œâ”€â”€ test\_app.py         # Pytest test cases
â””â”€â”€ requirements.txt    # Python dependencies

````

---

## ğŸš€ Getting Started

### 1. Clone the repo

```bash
git clone https://github.com/nitinkumar30/flask-sqlalchemy-starter.git
cd flask-test-app
````

### 2. Create a virtual environment

```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
```

---

## ğŸ”§ Running the App

### Start the Flask development server:

```bash
export FLASK_APP=app.py
export FLASK_ENV=development
flask run
```

Or on Windows CMD:

```cmd
set FLASK_APP=app.py
set FLASK_ENV=development
flask run
```

---

## ğŸŒ Test the API

Open your browser or Postman:

```
GET http://127.0.0.1:5000/create_user/testuser
```

You should see:

```
User testuser created
```

---

## âœ… Running Tests

Run the tests using Pytest:

```bash
pytest -s test_app.py
```

Use `-s` to show `print()` output during the test run.

---

## ğŸ“„ Example Test Case

```python
def test_create_user(client_app):
    client, app = client_app

    response = client.get('/create_user/testuser')
    assert response.status_code == 200
    assert b"User testuser created" in response.data

    with app.app_context():
        user = User.query.filter_by(username='testuser').first()
        assert user is not None
```

---

## ğŸ›  Tech Stack

* **Flask** â€“ lightweight Python web framework
* **Flask-SQLAlchemy** â€“ ORM for database management
* **Pytest** â€“ testing framework
* **SQLite** â€“ simple file-based database (in-memory for testing)

---

## ğŸ§© Future Improvements

* Add Flask-Migrate for migrations
* Add JWT-based user authentication
* Dockerize for deployment
* Support for PostgreSQL and MySQL

---


## ğŸ¤ Contributing

Feel free to fork this repo, open issues, or submit pull requests. Contributions are welcome!

